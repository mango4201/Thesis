% tools/srcpack-template.tex
\documentclass[a4paper,10pt]{article}
\usepackage[margin=2cm]{geometry}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage[hidelinks]{hyperref}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{ifthen} % not strictly needed, but fine to have

\lstdefinestyle{src}{
  basicstyle=\ttfamily\small,
  numbers=left, numberstyle=\tiny, numbersep=8pt,
  breaklines=true, breakatwhitespace=true,
  showstringspaces=false, tabsize=2
}

% Safer wrapper: only include if the file exists
\newcommand{\SrcFile}[2]{%
  \IfFileExists{#1}{%
    \section*{#2}%
    \lstinputlisting[style=src]{#1}%
  }{%
    \section*{#2 (missing)}%
    \noindent\textit{File not found: \texttt{#1}}%
  }%
}

% ---- You will override these in each pack file ----
\newcommand{\PackTitle}{(set in pack file)}
\newcommand{\PackFiles}{\relax}

\begin{document}
\begin{center}
  {\Large \textbf{\PackTitle}}\\[6pt]
  \small Source listing (auto-generated for review)
\end{center}
\tableofcontents\newpage

% Render the file list:
\PackFiles

\end{document}
